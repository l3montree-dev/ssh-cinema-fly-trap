#!/bin/bash
# Discord Alert f√ºr SSH-Logins

WEBHOOK_URL="DEINE_WEBHOOK_URL_HIER"  # <- Template-Platzhalter

# Parameter vom Wrapper-Script
SESSION_ID="$1"
USER="$2"
SOURCE_IP="$3"
SOURCE_PORT="$4"
TIMESTAMP="$5"

# Formatierung
curl -X POST "$WEBHOOK_URL" \
  -H "Content-Type: application/json" \
  -d "{
    \"embeds\": [{
      \"title\": \"üö® SSH Login auf Honeypot!\",
      \"color\": 15158332,
      \"fields\": [
        {
          \"name\": \"üë§ User\",
          \"value\": \"\`$USER\`\",
          \"inline\": false
        },
        {
          \"name\": \"üåç IP\",
          \"value\": \"\`$SOURCE_IP\`\",
          \"inline\": false
        },
        {
          \"name\": \"üîå Port\",
          \"value\": \"\`$SOURCE_PORT\`\",
          \"inline\": false
        },
        {
          \"name\": \"‚è∞ Zeit\",
          \"value\": \"$TIMESTAMP\",
          \"inline\": false
        },
        {
          \"name\": \"üÜî Session\",
          \"value\": \"\`$SESSION_ID\`\",
          \"inline\": false
        }
      ],
      \"timestamp\": \"$TIMESTAMP\"
    }]
  }" > /dev/null 2>&1